<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Cucumber Forge</title>
    <!-- hack to work around bug in bootstrap -->
    <script>
      window.$ = window.jQuery = require('jquery');
      window.Bootstrap = require('bootstrap');
    </script>
    <script type="text/javascript" src="cucumberForgeDesktop.js"></script>
    <script type="text/javascript" src="../node_modules/cucumber-forge-report-generator/src/templates/scripts.js"></script>
    <link href="../node_modules/font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="../node_modules/bootswatch/dist/flatly/bootstrap.min.css" rel="stylesheet">
    <link type="text/css" href="index.css" rel="stylesheet">
  </head>

  <body id="appBody" class="empty">
    <nav class="navbar navbar-dark bg-primary fixed-top">
      <a class="navbar-brand" href="#">
        <img src="./resources/png/CucumberForge_48.png" width="30" height="30" class="d-inline-block align-top" alt="">
        Cucumber Forge
      </a>
      <form class="form-inline">
        <!-- FILTERING BOX -->
        <div class="input-group input-group-sm bg-primary">
          <input id="tagBox" type="text" class="form-control form-control-sm" aria-label="Tags" href="#" onkeypress="return submitTagFiltersFromTextBox(event)">
          <div class="input-group-append">
            <button id="tagButton" class="btn btn-info" type="button" href="#" onclick="createReport()"><i class="fa fa-lg fa-filter text-white"></i></button>
          </div>
        </div>
        <!-- SELECT DIRECTORY -->
        <div class="input-group input-group-sm bg-primary ml-2">
          <label class="btn btn-info ">
            <i class="fa fa-folder-open"></i>
            <input type="file" style="display: none;" onchange="setNewFolderPath(folderSelection.files[0].path)" id="folderSelection" webkitdirectory mozdirectory msdirectory odirectory directory multiple />
          </label>
        </div>
        <!-- SAVE BUTTON -->
        <div class="input-group input-group-sm bg-primary ml-2">
          <button id="saveButton" type="button" onclick="saveOutput()" class="btn btn-info btn-sm"><i class="fa fa-lg fa-save text-white"></i></button>
        </div>

        <!-- SETTINGS MENU -->
        <div class="dropdown">
          <button class="btn btn-secondary btn-sm dropdown-toggle ml-2" type="button"
                  id="settingsMenuButton" data-toggle="dropdown"
                  aria-haspopup="true" aria-expanded="false">
            <i class="fa fa-cog" aria-hidden="true"></i>
          </button>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="settingsMenuButton">
            <a class="dropdown-item" href="#" onClick="toggleReviewMode()">Review Mode</a>
          </div>
        </div>

        <!-- PROJECTS -->
        <div class="dropdown">
          <button class="btn btn-secondary btn-sm dropdown-toggle ml-2"
                  type="button" id="projectsListButton" data-toggle="dropdown"
                  aria-haspopup="true" aria-expanded="false">
            <i class="fa fa-list" aria-hidden="true"></i>
          </button>
          <div class="dropdown-menu dropdown-menu-right"
               aria-labelledby="projectsListButton">
            <button class="dropdown-item" data-toggle="modal" data-target="#createPrjModal">
              Create Project
            </button>
            <button class="dropdown-item" data-toggle="modal" data-target="">Open Project</button>
            <button class="dropdown-item" data-toggle="modal" data-target="">Save Project</button>
          </div>
        </div>

      </form>
    </nav>
    <div id="output"></div>
    <img id="loadingInd" src="./resources/loading.gif" alt="Loading">

    <!-- Create project modal -->
    <div class="modal fade" id="createPrjModal" tabindex="-1" role="dialog"
         aria-labelledby="title" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="title">Create Project</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <form id="createPrjForm" onSubmit="createProject()">
            <div class="form-group">
              <div class="modal-body">

                <label for="prjNameInput">Project Name</label>
                <input type="text" class="form-control" id="prjNameInput">
                <hr>
                <label for="directoryInput">
                  <i class="fa fa-folder-open"></i> Directory
                </label>
                <input type="file" class="form-control-file" id="directoryInput"
                       onChange="changeDir(folderSelection.files[0].path)"
                       webkitdirectory mozdirectory msdirectory odirectory directory multiple>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary">Save</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>

  </body>
</html>
